# Chapter 2. Web Basics

HTML协议, HTTP传输， URL标识使web成为了可能.为了从web页面抓取信息， 我们必须知道以下三点：
构建一个你想访问某个页面的url，创建HTTP请求并且解码HTTP的响应,解析HTML提取信息.
这一章涉及到URL的构建以及HTTP的概念.HTML解析比较复杂在后续的章节会讲解.
你将会学习到如何使用LWP::Simple自动化处理最基本的网络作业, 正如他名字提到那样,这个模块的
接口非常简单.你将会学习到这个模块接口有哪个局限,并且使用其他LWP模块打破这种局限.

### 2.1 URLs
一个Url代表网络上某个地方的地址. 举个例子:
http://www.oreilly.com/news/bikeweek_day1.html
Url是一种结构,在RFC 2396规范中有定义, 长达40页,因为构造URL的方式多种多样.因为我们只关心HTTP
和FTP的URL,使用分隔符来组成URL:
```sh
scheme://username@server:port/path?query
```
在上面的例子中, scheme 是 http, server 是 www.oreilly.com, path是 /news/bikeweek_day1.html
以下是一个FTP URL:
    ftp://ftp.is.co.za/rfc/rfc1808.txt
scheme 是 ftp, 主机名ftp.is.co.za, path是/rfc/rfc1808.txt,scheme和主机名是不区分大小写的,
但是其他的是区分大小写的.ftp://ftp.is.co.za/rfc/rfc1808.txt 和 fTp://ftp.Is.cO.ZA/rfc/rfc1808.txt
是相同的地址.但是ftp://ftp.is.co.za/rfc/rfc1808.txt 和 ftp://ftp.is.co.za/rfc/RFC1808.txt 不相同.
除非服务器在请求的时候忽略大小写差异.

我们可以忽略掉不指定任何东西的URL,web客户端可以帮忙恢复它.举个例子:telnet://melvyl.ucop.edu/标明了一个你可以
开始Telnet会话的主机名,mailto:mojo@jojo.int标明了一个邮箱地址.
我们只能使用字符A到Z, a到z,0到9和以下标点符号来构造URL.
```sh
-     _     .     !     ~     *     '     ,
:     @     &     +     $     (     )     /
```
对于查询组件, 规则也是一样的,只有以下标点可以:
```sh
-     _     .     !     ~     *     '     (     )
```
其他的字符必须通过URL编码,i.e:通过一个百分号后跟两个十六进制数来表示一个字符.如果你想在URL中使用空格
通过%20来表示,因为空格的ASCII码是32,十六进制的0x20.
有时你会在URL中看到以下字符：
```sh
{     }    |    \    ^    [    ]    `
```
RFC2396文档中指出，使用这些字符是不可靠，不明智的.当遇到不安全字符时,也会编码.
URL查询组件赋值如下：
name=Hiram%20Veeblefeetzer&age=35&country=Madagascar
在查询语句中有3个参数:name值为"Hiram Veeblefeetzer"(空格字符被编码);age值为35,country值为"Madagascar".

URI::Escape模块提供了uri_escape()接口来创建URLs:
```perl
use URI::Escape;
encoded_string = uri_escape(raw_string);
```

举个例子,创建查询name,age和country的字符串:
```perl
$n = uri_escape("Hiram Veeblefeetzer");
$a = uri_escape(35);
$c = uri_escape("Madagascar");
$query = "name=$n&age=$a&country=$c";
print $query;
name=Hiram%20Veeblefeetzer&age=35&country=Madagascar
```










